{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useState, useRef, useEffect } from 'react';\nexport const GetPlpProducts = elPerPagelimit => {\n  _s();\n  const [isLoading, setIsLoading] = useState();\n  const [isError, setIsError] = useState(false);\n  const [loadImages, setLoadImages] = useState([]);\n  const counterRef = useRef(1);\n\n  //function to navigate through the images - 10 images\n  const fetchPlpProducts = (p0, p1, {\n    isPrevButton,\n    isOnLoad\n  }) => {\n    setIsLoading(true);\n    if (!isOnLoad) {\n      isPrevButton ? counterRef.current-- : counterRef.current++;\n      // console.log('click on prev button',counterRef.current );\n    }\n\n    //fetch('https://jsonplaceholder.typicode.com/photos?_page='+counterRef.current+'&_limit=12')\n    fetch('https://picsum.photos/v2/list?page=' + counterRef.current + '&limit=' + elPerPagelimit).then(res => res.json()).then(response => {\n      setLoadImages(response);\n      setIsLoading(false);\n    }, error => {\n      setIsLoading(false);\n      setIsError(error);\n    });\n  };\n  //use of the useeffect hook to prevent the function to be called over and over\n  useEffect(() => {\n    fetchPlpProducts(false, true);\n    //Mytestfunction();\n  }, []);\n  return {\n    isLoading,\n    isError,\n    loadImages,\n    counterRef,\n    fetchPlpProducts\n  };\n};\n_s(GetPlpProducts, \"X7rdLp2001g3EDnLK8kwr912qZc=\");\n_c = GetPlpProducts;\nvar _c;\n$RefreshReg$(_c, \"GetPlpProducts\");","map":{"version":3,"names":["useState","useRef","useEffect","GetPlpProducts","elPerPagelimit","_s","isLoading","setIsLoading","isError","setIsError","loadImages","setLoadImages","counterRef","fetchPlpProducts","p0","p1","isPrevButton","isOnLoad","current","fetch","then","res","json","response","error","_c","$RefreshReg$"],"sources":["/Users/elisabeth.vicente/Documents/sites/my-typescript-app/src/components/helper/api.tsx"],"sourcesContent":["import { useState, useRef, useEffect } from 'react';\nimport { dataApiProps } from '../data/interfaces';\n\nexport const GetPlpProducts = (elPerPagelimit : number) => {\n    \n    const [isLoading, setIsLoading] = useState<boolean>();\n    const [isError, setIsError] = useState<boolean>(false);\n    const [loadImages, setLoadImages] = useState([]);\n    const counterRef = useRef(1);\n  \n    //function to navigate through the images - 10 images\n    const fetchPlpProducts = (p0: boolean, p1: boolean, { isPrevButton, isOnLoad }: dataApiProps) =>{\n      setIsLoading(true);\n      if ( !isOnLoad ){\n        isPrevButton ? counterRef.current-- : counterRef.current++;\n        // console.log('click on prev button',counterRef.current );\n      }\n  \n      //fetch('https://jsonplaceholder.typicode.com/photos?_page='+counterRef.current+'&_limit=12')\n      fetch('https://picsum.photos/v2/list?page='+counterRef.current+'&limit='+elPerPagelimit)\n      .then(res => res.json())\n      .then(\n        (response) => {\n          setLoadImages(response);\n          setIsLoading(false);\n        },\n        (error) => {\n          setIsLoading(false);\n          setIsError(error);\n        }\n      );\n    }\n    //use of the useeffect hook to prevent the function to be called over and over\n    useEffect(() => {\n      fetchPlpProducts(false, true);\n      //Mytestfunction();\n    }, []);\n  \n    return {\n      isLoading,\n      isError,\n      loadImages,\n      counterRef,\n      fetchPlpProducts,\n    };\n  }"],"mappings":";AAAA,SAASA,QAAQ,EAAEC,MAAM,EAAEC,SAAS,QAAQ,OAAO;AAGnD,OAAO,MAAMC,cAAc,GAAIC,cAAuB,IAAK;EAAAC,EAAA;EAEvD,MAAM,CAACC,SAAS,EAAEC,YAAY,CAAC,GAAGP,QAAQ,CAAU,CAAC;EACrD,MAAM,CAACQ,OAAO,EAAEC,UAAU,CAAC,GAAGT,QAAQ,CAAU,KAAK,CAAC;EACtD,MAAM,CAACU,UAAU,EAAEC,aAAa,CAAC,GAAGX,QAAQ,CAAC,EAAE,CAAC;EAChD,MAAMY,UAAU,GAAGX,MAAM,CAAC,CAAC,CAAC;;EAE5B;EACA,MAAMY,gBAAgB,GAAGA,CAACC,EAAW,EAAEC,EAAW,EAAE;IAAEC,YAAY;IAAEC;EAAuB,CAAC,KAAI;IAC9FV,YAAY,CAAC,IAAI,CAAC;IAClB,IAAK,CAACU,QAAQ,EAAE;MACdD,YAAY,GAAGJ,UAAU,CAACM,OAAO,EAAE,GAAGN,UAAU,CAACM,OAAO,EAAE;MAC1D;IACF;;IAEA;IACAC,KAAK,CAAC,qCAAqC,GAACP,UAAU,CAACM,OAAO,GAAC,SAAS,GAACd,cAAc,CAAC,CACvFgB,IAAI,CAACC,GAAG,IAAIA,GAAG,CAACC,IAAI,CAAC,CAAC,CAAC,CACvBF,IAAI,CACFG,QAAQ,IAAK;MACZZ,aAAa,CAACY,QAAQ,CAAC;MACvBhB,YAAY,CAAC,KAAK,CAAC;IACrB,CAAC,EACAiB,KAAK,IAAK;MACTjB,YAAY,CAAC,KAAK,CAAC;MACnBE,UAAU,CAACe,KAAK,CAAC;IACnB,CACF,CAAC;EACH,CAAC;EACD;EACAtB,SAAS,CAAC,MAAM;IACdW,gBAAgB,CAAC,KAAK,EAAE,IAAI,CAAC;IAC7B;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,OAAO;IACLP,SAAS;IACTE,OAAO;IACPE,UAAU;IACVE,UAAU;IACVC;EACF,CAAC;AACH,CAAC;AAAAR,EAAA,CA1CUF,cAAc;AAAAsB,EAAA,GAAdtB,cAAc;AAAA,IAAAsB,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}